<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admins</title>
</head>
<body>
    <div>
        <h2>Добавить админа:</h2>
        <form id="formCreate">
            <label>
                Login:
                <input id="login">
            </label>
            <label>
                Password:
                <input id="password">
            </label>
            <button id="submit" type="button">Create</button>
        </form>
    </div>

    <h1>Список админов:</h1>
    <table id="listAdmin" border="1" colspan="2"></table>
</body>

<script>
    const table = document.getElementById('listAdmin');

    const submit = document.getElementById('submit');
    submit.addEventListener('click', async () => {
        const login = document.getElementById('login').value;
        const password = document.getElementById('password').value;
        const user = {
            login,
            password
        }

        const response = await fetch('/create', {
            method: 'POST',
            body: JSON.stringify(user)
        });
        const res = await response.json();

        let list;
        if(res.ok) {
            list = res.admins.map(a => `<tr><td>ID: ${a.id}</td> <td>LOGIN: ${a.login}</td> <td>CREATE: ${a.created}</td></tr>`).join("");
        }

        table.innerHTML = list;
    });

</script>
</html>